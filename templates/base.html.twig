<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<meta name="color-scheme" content="light dark">


		<title>
			{% block title  %}
				Equipment Management
			{% endblock %}
		</title>

		<!-- Font Awesome -->
		<link
		href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>

		<!-- Google Fonts -->
		<link
		href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
		<!-- MDB -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.3.0/mdb.min.css" rel="stylesheet"/>

		{# <link rel="stylesheet" href="/mdb.dark.min.css"> #}
  		{# <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-nightshade.min.css" rel="stylesheet"> #}
		<style>
			.list-group-item.active {
				background-color: black !important;
			}
		</style>


		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.3.0/mdb.min.js"></script>

		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>

		{# dark mode #}
		{# <link rel="stylesheet" href="/dark-mode.css"> #}
		
    	{# <script src="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/js/darkmode.min.js"></script> #}
   		{# <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap.min.css" rel="stylesheet" media="(prefers-color-scheme: light)"> #}
   		{# <link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-night.min.css" rel="stylesheet" media="(prefers-color-scheme: dark)"> #}
   
		{% block scripts %}{% endblock %}
		{% block validate %}{% endblock %}
		{# <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script> #}
	<!-- Custom styles -->
		{# <link rel="stylesheet" href="css/admin.css"/> #}
		{# <link rel="stylesheet" href="css/autocomplete.css"> #}
	
	</head>
	<body>
		<!--Main Navigation-->
		<!-- Sidebar -->
			<nav id="sidebarMenu" class="collapse d-lg-block sidebar bg-white" style="width:200px; margin-top: 70px "> <div class="position-fixed">
				{% if app.user %}
					{% if 'ROLE_ADMIN' in app.user.roles %}
						<div class="list-group list-group-flush mx-3 mt-4">
							<a href="/category" class="rounded list-group-item list-group-item-action py-2 ripple
																								{{ 'app_category' in app.request.attributes.get('_route') ? 'active' }}
																						          ">
								<i class="fas fa-tachometer-alt fa-fw me-3"></i>
								<span>Category</span>
							</a>
							<a href="/equipment" class="rounded list-group-item list-group-item-action py-2 ripple
																						          {# {{ Route::currentRouteNamed('web.equipment.index') ? 'active' : '' }} #}
																								{{ 'app_equipment' in app.request.attributes.get('_route') ? 'active' }}
									
																						          ">
								<i class="fas fa-chart-area fa-fw me-3"></i>
								<span>Equipment</span>
							</a>
							<a href="/user" class="rounded list-group-item list-group-item-action py-2 ripple {{ 'app_user' in app.request.attributes.get('_route') ? 'active' }} ">
								<i class="fas fa-users fa-fw me-3"></i>
								<span>User</span>
							</a>
						</div>
					{% else %}
						<div class="list-group list-group-flush mx-3 mt-2">
							<a href="/user/{{app.user.id}}" class="px-2 rounded list-group-item list-group-item-action ripple {{ 'app_user_show' in app.request.attributes.get('_route') ? 'active' }} ">
								<i class="fas fa-users fa-fw me-3"></i>
								<span>My info</span>
							</a>
						</div>
						<div class="list-group list-group-flush mx-3 mt-2">
							<a href="/equipment/request" class="px-2 rounded list-group-item list-group-item-action py-2 ripple {{ 'app_equipment_request' in app.request.attributes.get('_route') ? 'active' }} ">
								<i class="fas fa-users fa-fw me-3"></i>
								<span>Request equipment</span>
							</a>
						</div>
					{% endif %}

				{% endif %}
			</div>
		</nav>
		<!-- Sidebar -->
		<header>

			<!-- Navbar -->
			<nav
				id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
				<!-- Container wrapper -->
				<div
					class="container-fluid">
					<!-- Toggle button -->
					<button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
						<i class="fas fa-bars"></i>
					</button>

					<!-- Brand -->
					<a class="navbar-brand" href="/">
						<img src="https://picsum.photos/id/238/30/30" height="30" alt="" loading="lazy"/>
						<h3 class="mt-1 ms-1">Equipment Management</h3>
					</a>

					<ul class="navbar-nav ms-auto d-flex flex-row">
						<li class="nav-item dropdown"></li>

						{% if app.user %}
							<!-- Avatar -->
							<h4 class="mt-1">
								{{ app.user.name }}
							</h4>
							
							{# Toggle dark mode #}
							{# <div class="custom-control custom-switch">
								<input type="checkbox" class="custom-control-input" id="darkSwitch">
								<label class="custom-control-label" for="darkSwitch">Dark Mode</label>
							</div> #}

							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#" id="navbarDropdownMenuLink" role="button" data-mdb-toggle="dropdown" aria-expanded="false">
									<img src="https://picsum.photos/id/200/30/30" class="rounded-circle" height="22" alt="" loading="lazy"/>
								</a>
								<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
									<li>
										<a class="dropdown-item" href="#">My profile</a>
									</li>
									<li>
										<a class="dropdown-item" href="#">Settings</a>
									</li>
									<li>
										<a class="dropdown-item" href="/logout">Logout</a>
									</li>
								</ul>
							</li>


						{% else %}
							<li class="d-flex">
								<button class="btn btn-outline-primary me-1">
									<a href="/login">Login</a>
								</button>
								<button class="btn btn-outline-primary">
									<a href="/register">Register</a>
								</button>
							</li>
						{% endif %}
					</ul>
				</div>
				<!-- Container wrapper -->
			</nav>
			<!-- Navbar -->
		</header>
		<!--Main Navigation-->

		<!--Main layout-->
		<main style="margin-top: 70px; padding-left: 200px">
			<div class="container-fluid ma-0 pa-0 ">
				{% for message in app.flashes('success') %}
					<div class="alert alert-success alert-dismissible fade show" role="alert" data-mdb-color="warning">
						{{ message }}
						<button type="button" class="btn-close" data-mdb-dismiss="alert" aria-label="Close"></button>
					</div>
				{% endfor %}

				{% for message in app.flashes('failed') %}
					<div class="alert alert-danger alert-dismissible fade show" role="alert" data-mdb-color="warning">
						{{ message }}
						<button type="button" class="btn-close" data-mdb-dismiss="alert" aria-label="Close"></button>
					</div>
				{% endfor %}
				{% block body %}{% endblock %}
			</div>
		</main>
		<!--Main layout-->
		<!-- MDB -->
		{# <script>
			var darkSwitch=document.getElementById("darkSwitch");window.addEventListener("load",(function(){if(darkSwitch){initTheme();darkSwitch.addEventListener("change",(function(){resetTheme()}))}}));function initTheme(){var darkThemeSelected=localStorage.getItem("darkSwitch")!==null&&localStorage.getItem("darkSwitch")==="dark";darkSwitch.checked=darkThemeSelected;darkThemeSelected?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}function resetTheme(){if(darkSwitch.checked){document.body.setAttribute("data-theme","dark");localStorage.setItem("darkSwitch","dark")}else{document.body.removeAttribute("data-theme");localStorage.removeItem("darkSwitch")}}
		</script> #}
{# 			
		  <script>
      document.querySelector("#darkSwitch").onclick = function(e){
        darkmode.toggleDarkMode();
      }
    </script> #}
	</body>
</html>
